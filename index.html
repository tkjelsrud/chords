<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chord Editor</title>
    <link rel="stylesheet" href="lib/default.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-text">
                <h1>Chord Analysis Tool</h1>
                <p>Analyze chord progressions and discover musical possibilities</p>
            </div>
            <div class="audio-controls">
                <button 
                    id="audioToggle" 
                    type="button" 
                    class="audio-toggle audio-disabled"
                    aria-label="Audio preview disabled"
                    title="Enable chord preview"
                >
                    <span class="audio-icon">ðŸ”Š</span>
                </button>
                <button 
                    id="fretboardToggle" 
                    type="button" 
                    class="mode-toggle"
                    aria-label="Switch to fretboard mode"
                    title="Switch to fretboard melody sketcher"
                >
                    <span class="fretboard-icon">ðŸŽ¸</span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <section class="tab-section">
            <div id="tabs-container" role="tablist" aria-label="Chord progression tabs">
                <button id="addTab" type="button" aria-label="Add new tab">+</button>
            </div>
        </section>

        <section class="editor-section">
            <div id="editor-container">
                <label for="chordEditor" class="sr-only">Enter your chord progression</label>
                <div 
                    id="chordEditor" 
                    contenteditable="true" 
                    spellcheck="false" 
                    autocomplete="off" 
                    autocorrect="off" 
                    autocapitalize="off"
                    role="textbox"
                    aria-label="Chord progression input"
                    aria-describedby="instructions"
                ></div>
                <div class="instructions-row">
                    <div id="instructions" class="instructions">
                        Type chords like: C Am F G or Cmaj7 Dm7 G7 Cmaj7
                    </div>
                    <div class="transpose-controls">
                        <span id="transposeLabel" class="transpose-label"></span>
                        <button 
                            id="transposeDown" 
                            type="button" 
                            class="transpose-btn transpose-down"
                            aria-label="Transpose down by semitone"
                            title="Transpose down by semitone"
                        >
                            â™­
                        </button>
                        <button 
                            id="transposeUp" 
                            type="button" 
                            class="transpose-btn transpose-up"
                            aria-label="Transpose up by semitone"
                            title="Transpose up by semitone"
                        >
                            â™¯
                        </button>
                    </div>
                </div>
            </div>
            <div id="floatingResultsContainer" aria-live="polite"></div>
        </section>

        <section class="results-section">
            <div id="details" aria-live="polite" aria-label="Chord analysis results"></div>
        </section>

        <section class="fretboard-section" id="fretboardSection" style="display: none;">
            <div id="fretboardContainer"></div>
        </section>
    </main>

    <!-- Scripts -->
    <script type="module" src="js/app.js"></script>
    
    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1FY8T9LQ3W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1FY8T9LQ3W');
    </script>
</body>
</html>