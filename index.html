<html>
<head>
  <title>v5.</title>
  <style>
    .lane div {
      width: 180px;
      float: left;
      border: 1px solid grey;
      margin: 4px;
    }
    .lane {
      height: 100px;
    }
    .ntC {
      color: rgba(248, 250, 76, 1);
    }
    .ntG {
      color: rgba(250, 186, 76, 1);
    }
  </style>
  <script type="text/javascript" src="chords.js"></script>
  <script type="text/javascript">
    //
    // Look for input
    // If known, add as new chord
    // Have a base of chord break down and indiviual notes
    // Have a base of all chord scales to be matched
    // -- maybe based on making everything absolute notes then comparing?
    //
    //
    document.onkeypress = checkKey;
    var buffer = "";
    var noteInputList = new Array();

    function checkKey(e) {
      e = e || window.event;

      if (e.keyCode == '39' || e.keyCode == '13') {
        // Next, right arrow
        let inText = cleanChordtext(buffer);
        newChordBox(inText);
        buffer = "";
      }
      else if (e.keyCode == '37') {
         // left arrow
      }
      else {
        buffer += String.fromCharCode(e.keyCode);
      }
    }

    function newChordBox(text) {
      chord = chordToStruct(text);

      if(chord.root == null) {
        console.log("Could not parse: " + text);
      }
      else {
        html = "<div>" + chord.actual[0] + chord.tone + "</div>";
        html += "<div>";
        console.log(chord.actual);

        for(i = 0;i < chord.actual.length; i++) {
          html += "<span class=\"nt" + chord.actual[i] + "\">" + chord.actual[i] + "</span> ";
        }
        document.getElementById("notelist").innerHTML += html + "</div>";
        noteInputList.push(chord);
      }
    }

    function inputToScale() {
      
    }
</script>
</head>

<body>
  <div id="chordlist" class="lane">&nbsp;</div>
  <div id="notelist" class="lane">&nbsp;</div>
  <div id="scalelist" class="lane">&nbsp;</div>
</body>
</html>
